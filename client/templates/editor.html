<section id="{{recipe.$id}}" class="recipe-description editor">
    <form class="recipe-form" name="recipeForm" novalidate>
        <section class="image-column">
            <div flow-init flow-files-submitted="$flow.upload()" flow-file-added="!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]" flow-file-success="$file.msg = $message" flow-name="recipe.slides.flow">
                
                <input type="file" flow-btn/>
                <div class="drop" flow-drop>Drag And Drop your images here</div>
                
                <ul class="preview-title" ng-repeat="file in recipe.slides.flow.files track by $index">
                    <li>{{$index+1}} {{file.relativePath}}</li>
                </ul>
                
                <ul class="preview">
                    <li ng-repeat="image in recipe.slides.flow.files track by $index">
                        <img flow-img="image" />
                    </li>
                </ul>
            </div>
        </section>

        <section class="content">
            <section class="head-column">
                <h4>Keywords: </h4>
                <ul class="keywords">
                    <li ng-repeat="keyword in recipe.keywords track by $index">
                        <input type="text" ng-model="recipe.keywords[$index]" name="recipeKeyword" ng-value="keyword" placeholder="Add a keyword" required>
                        
                        <button class="remove-field" ng-show="$last" ng-click="removeKeyword()">-</button>
                    </li>                
                    <button class="add-field" ng-click="addKeyword()">+</button>
                </ul>
            </section>

            <section class="side-column">
                <h4>Ingredients: </h4>
                <ul class="ingredients">
                    <li ng-repeat="ingredient in recipe.ingredients track by $index">
                        <input type="text" ng-model="recipe.ingredients[$index]" name="recipeIngredient" ng-value="ingredient" placeholder="Add an ingredient" required>
                        <button class="remove-field" ng-show="$last" ng-click="removeIngredient()">-</button>
                    </li>
                    
                    <button class="add-field" ng-click="addIngredient()">+</button>
                </ul>
            </section>

            <section class="main-column">
                <h2>
                    <input class="title" type="text" ng-model="recipe.title" name="recipeTitle" ng-value="recipe.title" placeholder="Title" required>
                    <input class="lead "type="text" ng-model="recipe.lead" name="recipeLead" ng-value="recipe.lead" placeholder="Lead" required>
                </h2>
               
                <h4>Time until ready</h4>
                <ul class="cooking-time">
                    <li>
                        <span>Preperation: </span>
                        <input type="text" ng-model="recipe.preptime" name="recipePreptime" ng-value="recipe.preptime" placeholder="Add preperation Time" required>
                    </li>
                    <li>
                        <span>Cooking: </span>
                        <input type="text" ng-model="recipe.cookingtime" name="recipeCookingtime" ng-value="recipe.cookingtime" placeholder="Add cooking Time" required>
                    </li>
                    <li>
                        <span>Total: </span>
                        <input type="text" ng-model="recipe.totaltime" name="recipeTotaltime" ng-value="recipe.totaltime" placeholder="Add total Time" required>
                    </li>
                </ul>

                <div class="instructions">
                    <h4>Instructions</h4>
                    <!--TO DO: This input should work like textarea -->
                    <textarea ng-model="recipe.instructions" name="recipeInstructions" ng-value="recipe.instructions" required></textarea>
                </div>
            </section>
        </section>

        <button ng-click="addRecipe()" ng-hide="recipe.$id">Save the Recipe</button>
        <button ng-click="editRecipe()" ng-show="recipe.$id">Update the Recipe</button>
        <button ng-click="deleteRecipe()" ng-show="recipe.$id">Delete Recipe</button>
    </form>
</section>